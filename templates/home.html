{% extends "base.html" %}
{% load static %}
{% block title %}Bambicim â€” Innovative Software Solutions{% endblock %}

{% block content %}

    <section class="b-hero b-container">
        <div class="hero-copy">
            <h1><span class="grad">Princess-pink</span> software, built fast & beautifully</h1>
            <p>Notes, builds, and shiny experiments from Bambi. Switch the vibe â†‘</p>

            <div class="cta-row">
                <a class="ghost" href="#work">See work</a>
                <a class="ghost" href="#contact">Letâ€™s talk</a>
            </div>

            <div class="badges">
                <span>ðŸ’… lots of pink</span><span>ðŸ§  AI-powered</span><span>ðŸ”’ security-first</span>
            </div>
        </div>

        <div class="hero-art" aria-hidden="true">
            <div class="hero-grid"></div>
            <div class="orb orb-1"></div>
            <div class="orb orb-2"></div>
        </div>
    </section>


    <section class="b-container b-cards">
        <article>
            <h3>Product & UX</h3>
            <p>Workshops, user flows, wireframes, brand foundationsâ€”clarity before code.</p>
        </article>
        <article>
            <h3>Full-stack Dev</h3>
            <p>Django, Node, React, Postgres. Clean architecture, crisp APIs, zero fluff.</p>
        </article>
        <article>
            <h3>AI + Automation</h3>
            <p>Integrations, assistants, data pipelines. Make your product feel magical.</p>
        </article>
    </section>


    <section id="game" class="b-container b-game">
        <h2><span class="grad">Bambi Game</span></h2>
        <div id="game-root" class="my-4"></div>
        <div id="achv-bar" class="achv-bar" aria-live="polite"></div>
        <div id="toast" class="achv-toast" role="status" aria-live="polite" aria-atomic="true"></div>
    </section>

    <section id="tools" class="b-container py-12">
        <h2 class="h-lg">Tools</h2>
        <div class="tools-grid">
            <a class="tool-card" href="{% url 'editor' %}">
                <div class="tool-kicker">New</div>
                <h3>Photo Editor</h3>
                <p>Crop, rotate, filters & export â€” fully client-side.</p>
            </a>
        </div>
    </section>



    <section id="work" class="b-container my-10">
        <h2>Selected work</h2>

        {% if featured_projects %}
            {% include "project_grid.html" %}
        {% endif %}

        <div class="work-grid">
            {% for r in repos %}
                <a class="card work-card" href="{{ r.html_url }}" target="_blank" rel="noopener">
                    <img class="work-thumb" src="{{ r.og_image }}" alt="{{ r.name }} preview">
                    <div class="card-body">
                        <h3 class="work-title">{{ r.name }}</h3>

                        <div class="work-meta">
                            {% if r.language %}
                                <span>{{ r.language }}</span>
                                <span class="repo-dot" aria-hidden="true"></span>
                            {% endif %}

                            {% if r.stars %}<span>â˜… {{ r.stars }}</span>{% endif %}

                            {% if r.pushed_dt %}
                                <span>updated {{ r.pushed_dt|timesince }} ago</span>
                            {% elif r.pushed_at %}
                                <span>updated {{ r.pushed_at }}</span>
                            {% endif %}
                        </div>

                        <p class="work-desc">{{ r.description|default:"No description yet." }}</p>
                    </div>
                </a>
            {% empty %}
                <p>No public repos yet â€” check back soon.</p>
            {% endfor %}
        </div>
    </section>


    <section id="contact" class="b-container b-contact">
        <h2>Tell us about your idea</h2>

        <form method="post" action="{% url 'contact' %}" class="contact" novalidate aria-describedby="contact-errors">
            {% csrf_token %}

            {# Error summary (render only when errors exist) #}
            {% if messages %}
                <div id="contact-errors" role="alert" aria-live="polite">
                    {% for m in messages %}
                        {% if "contact_error" in m.tags %}
                            <p class="form-error">{{ m }}</p>
                        {% endif %}
                    {% endfor %}
                </div>
            {% endif %}

            <div class="field">
                <label for="c-name" class="sr-only">Name</label>
                <input id="c-name" name="name" type="text" inputmode="text" autocomplete="name"
                       placeholder="Your name" required aria-required="true">
            </div>

            <div class="field">
                <label for="c-email" class="sr-only">Email</label>
                <input id="c-email" name="email" type="email" inputmode="email" autocomplete="email"
                       placeholder="Email" required aria-required="true">
            </div>

            <div class="field">
                <label for="c-message" class="sr-only">Message</label>
                <textarea id="c-message" name="message" rows="5" placeholder="Message"
                          maxlength="5000" required aria-required="true"></textarea>
            </div>

            {# HONEYPOT: real users never fill this; bots often do #}
            <div class="hp-field" aria-hidden="true">
                <label for="c-website">Website</label>
                <input id="c-website" type="text" name="website" tabindex="-1" autocomplete="off">
            </div>

            <button type="submit">Send</button>
        </form>

        <p class="muted alt">
            Prefer email?
            <a href="mailto:ipek@bambicim.com">ipek@bambicim.com</a>
        </p>
    </section>

{% endblock %}

{% block scripts %}
    <script>window.ttwAchv = window.ttwAchv || {};</script>
    <script defer src="{% static 'game/engine.js' %}"></script>
{% endblock %}